<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ›’ äº¬ä¸œæ•°æ®å¯è§†åŒ–ä»ªè¡¨æ¿ - CodePenç‰ˆ</title>
    
    <!-- å¤–éƒ¨ä¾èµ– -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .app-container {
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #FFE66D, #4ECDC4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .stat-card h3 {
            color: #4ECDC4;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #FFE66D;
            margin-bottom: 10px;
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 32px;
            margin-bottom: 40px;
            justify-items: center;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 32px 25px 25px 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-width: 340px;
            max-width: 500px;
            width: 100%;
        }

        .chart-container h3 {
            color: #4ECDC4;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.3rem;
        }

        .chart {
            width: 100%;
            height: 300px;
        }

        .footer {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .footer p {
            color: #4ECDC4;
            font-size: 1.1rem;
        }

        .data-info {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }

        .refresh-btn {
            background: linear-gradient(45deg, #4ECDC4, #45B7D1);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin-left: 15px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(78, 205, 196, 0.4);
        }

        .refresh-btn:active {
            transform: translateY(0);
        }

        .refresh-btn i {
            font-size: 1.2rem;
        }

        @media (max-width: 768px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div id="app" class="app-container">
        <div class="header">
            <h1>ğŸ›’ äº¬ä¸œæ•°æ®å¯è§†åŒ–ä»ªè¡¨æ¿</h1>
            <p>å®æ—¶ç”µå•†æ•°æ®åˆ†æä¸å±•ç¤ºå¹³å°</p>
            <div class="data-info">
                <p>â° å½“å‰æ—¶é—´: {{ currentTime }}</p>
                <p>ğŸ“Š æ•°æ®æ›´æ–°: å®æ—¶æ¨¡æ‹Ÿ | ğŸ¤©ğŸ¤©ğŸ¤© å±•ç¤ºç‰ˆæœ¬: CodePen</p>
                <button class="refresh-btn" @click="refreshData">
                    <i>ğŸ”„</i> åˆ·æ–°æ•°æ®
                </button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3>ğŸ’° ä»Šæ—¥æ€»é”€å”®é¢</h3>
                <div class="stat-value">{{ formatNumber(totalSales) }}</div>
                <p>è¾ƒæ˜¨æ—¥å¢é•¿ +15.6%</p>
            </div>
            
            <div class="stat-card">
                <h3>ğŸ“¦ è®¢å•æ€»æ•°</h3>
                <div class="stat-value">{{ orderCount.toLocaleString() }}</div>
                <p>å®æ—¶æ›´æ–°ä¸­...</p>
            </div>
            
            <div class="stat-card">
                <h3>ğŸ‘¥ æ´»è·ƒç”¨æˆ·</h3>
                <div class="stat-value">{{ activeUsers.toLocaleString() }}</div>
                <p>åœ¨çº¿è´­ç‰©ç”¨æˆ·æ•°</p>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-container">
                <h3>ğŸ“Š å“ç±»é”€å”®å æ¯”</h3>
                <div id="categoryChart" class="chart"></div>
            </div>
            
            <div class="chart-container">
                <h3>ğŸ“ˆ 24å°æ—¶é”€å”®è¶‹åŠ¿</h3>
                <div id="trendChart" class="chart"></div>
            </div>
            
            <div class="chart-container">
                <h3>ğŸ† çƒ­é”€å•†å“TOP10</h3>
                <div id="top10Chart" class="chart"></div>
            </div>
        </div>

        <div class="footer">
            <p>ğŸ‰ ä¸“ä¸šçº§æ•°æ®å¯è§†åŒ–ä»ªè¡¨æ¿ | æŠ€æœ¯æ ˆ: Vue3 + ECharts + æ™ºèƒ½æ•°æ®å¤„ç†</p>
            <p>ğŸš€ å±•ç¤ºé¡¹ç›® - å±•ç°æ•°æ®åˆ†æä¸å‰ç«¯å¼€å‘èƒ½åŠ›</p>
        </div>
    </div>

    <script>
        const { createApp, ref, onMounted } = Vue;

        const app = createApp({
            setup() {
                const currentTime = ref('');
                const totalSales = ref(25678945.67);
                const orderCount = ref(89234);
                const activeUsers = ref(45678);
                
                // æ¨¡æ‹Ÿæ•°æ®
                const categoryData = ref([
                    { value: 42.3, name: 'ç”µå­äº§å“' },
                    { value: 28.7, name: 'æœè£…é…é¥°' },
                    { value: 15.2, name: 'å®¶å±…ç”¨å“' },
                    { value: 8.5, name: 'é£Ÿå“é¥®æ–™' },
                    { value: 5.3, name: 'å…¶ä»–' }
                ]);

                const trendData = ref([
                    { time: '00:00', value: 856789.45 },
                    { time: '02:00', value: 456789.32 },
                    { time: '04:00', value: 325678.91 },
                    { time: '06:00', value: 687654.23 },
                    { time: '08:00', value: 1856789.56 },
                    { time: '10:00', value: 2856789.34 },
                    { time: '12:00', value: 3256789.78 },
                    { time: '14:00', value: 2756789.45 },
                    { time: '16:00', value: 2956789.12 },
                    { time: '18:00', value: 3567890.23 },
                    { time: '20:00', value: 4256789.67 },
                    { time: '22:00', value: 2856789.34 }
                ]);

                const top10Data = ref([
                    { name: 'iPhone 15 Pro Max', value: 12580 },
                    { name: 'åä¸ºMate60 Pro', value: 10890 },
                    { name: 'å°ç±³14 Ultra', value: 9560 },
                    { name: 'MacBook Pro M3', value: 7890 },
                    { name: 'æˆ´æ£®å¸å°˜å™¨V15', value: 6520 },
                    { name: 'AirPods Pro 2', value: 5890 },
                    { name: 'è”æƒ³æ‹¯æ•‘è€…Y9000P', value: 4780 },
                    { name: 'æµ·å°”å†°ç®±BCD-520', value: 3890 },
                    { name: 'èŒ…å°é£å¤©53åº¦', value: 3240 },
                    { name: 'è€å…‹Air Jordan', value: 2980 }
                ]);

                const mapData = ref([
                    { name: 'åŒ—äº¬å¸‚', value: 45678 },
                    { name: 'ä¸Šæµ·å¸‚', value: 52345 },
                    { name: 'å¹¿ä¸œçœ', value: 68789 },
                    { name: 'æ±Ÿè‹çœ', value: 42345 },
                    { name: 'æµ™æ±Ÿçœ', value: 38765 },
                    { name: 'å±±ä¸œçœ', value: 32456 },
                    { name: 'æ²³å—çœ', value: 28765 },
                    { name: 'å››å·çœ', value: 25678 },
                    { name: 'æ¹–åŒ—çœ', value: 22345 },
                    { name: 'æ¹–å—çœ', value: 20345 },
                    { name: 'ç¦å»ºçœ', value: 18765 },
                    { name: 'å®‰å¾½çœ', value: 16789 },
                    { name: 'æ²³åŒ—çœ', value: 15678 },
                    { name: 'é™•è¥¿çœ', value: 14567 },
                    { name: 'é‡åº†å¸‚', value: 13456 },
                    { name: 'æ±Ÿè¥¿çœ', value: 12345 },
                    { name: 'è¾½å®çœ', value: 11567 },
                    { name: 'äº‘å—çœ', value: 10345 },
                    { name: 'å±±è¥¿çœ', value: 9876 },
                    { name: 'å¹¿è¥¿å£®æ—è‡ªæ²»åŒº', value: 8765 },
                    { name: 'è´µå·çœ', value: 8234 },
                    { name: 'å‰æ—çœ', value: 7654 },
                    { name: 'é»‘é¾™æ±Ÿçœ', value: 7234 },
                    { name: 'å†…è’™å¤è‡ªæ²»åŒº', value: 6789 },
                    { name: 'æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº', value: 6234 },
                    { name: 'ç”˜è‚ƒçœ', value: 5678 },
                    { name: 'æµ·å—çœ', value: 5234 },
                    { name: 'å®å¤å›æ—è‡ªæ²»åŒº', value: 4789 },
                    { name: 'é’æµ·çœ', value: 4234 },
                    { name: 'è¥¿è—è‡ªæ²»åŒº', value: 3789 },
                    { name: 'å¤©æ´¥å¸‚', value: 8765 }
                ]);

                // ç”Ÿæˆéšæœºæ³¢åŠ¨å€¼
                const getRandomFluctuation = (base, percentage = 0.1) => {
                    const fluctuation = base * percentage;
                    return base + (Math.random() * 2 - 1) * fluctuation;
                };

                // åˆ·æ–°æ•°æ®
                const refreshData = () => {
                    // æ›´æ–°é”€å”®é¢ï¼ˆä¿ç•™ä¸¤ä½å°æ•°ï¼‰
                    totalSales.value = Math.round(getRandomFluctuation(25678945.67, 0.05) * 100) / 100;
                    
                    // æ›´æ–°è®¢å•æ•°ï¼ˆæ•´æ•°ï¼‰
                    orderCount.value = Math.round(getRandomFluctuation(89234, 0.03));
                    
                    // æ›´æ–°æ´»è·ƒç”¨æˆ·ï¼ˆæ•´æ•°ï¼‰
                    activeUsers.value = Math.round(getRandomFluctuation(45678, 0.02));

                    // æ›´æ–°å“ç±»æ•°æ®
                    categoryData.value = categoryData.value.map(item => ({
                        ...item,
                        value: Math.round(getRandomFluctuation(item.value, 0.05) * 10) / 10
                    }));

                    // æ›´æ–°è¶‹åŠ¿æ•°æ®
                    trendData.value = trendData.value.map(item => ({
                        ...item,
                        value: Math.round(getRandomFluctuation(item.value, 0.08) * 100) / 100
                    }));

                    // æ›´æ–°çƒ­é”€å•†å“æ•°æ®ï¼ˆæ•´æ•°ï¼‰
                    top10Data.value = top10Data.value.map(item => ({
                        ...item,
                        value: Math.round(getRandomFluctuation(item.value, 0.04))
                    }));

                    // æ›´æ–°åœ°å›¾æ•°æ®ï¼ˆæ•´æ•°ï¼‰
                    mapData.value = mapData.value.map(item => ({
                        ...item,
                        value: Math.round(getRandomFluctuation(item.value, 0.03))
                    }));

                    // é‡æ–°åˆå§‹åŒ–å›¾è¡¨
                    initCharts();
                };

                // æ›´æ–°å½“å‰æ—¶é—´
                const updateTime = () => {
                    const now = new Date();
                    currentTime.value = now.toLocaleString('zh-CN', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit',
                        hour12: false
                    });
                };

                // æ ¼å¼åŒ–æ•°å­—
                const formatNumber = (num) => {
                    return new Intl.NumberFormat('zh-CN', {
                        style: 'currency',
                        currency: 'CNY'
                    }).format(num);
                };

                // åŠ è½½ä¸­å›½åœ°å›¾æ•°æ®
                const loadChinaMap = async () => {
                    try {
                        const response = await fetch('https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json');
                        const geoJSON = await response.json();
                        echarts.registerMap('china', geoJSON);
                        return true;
                    } catch (error) {
                        console.error('åœ°å›¾æ•°æ®åŠ è½½å¤±è´¥:', error);
                        return false;
                    }
                };

                // åˆå§‹åŒ–å›¾è¡¨
                const initCharts = async () => {
                    // åŠ è½½åœ°å›¾
                    await loadChinaMap();

                    // å“ç±»é”€å”®å æ¯”é¥¼å›¾
                    const categoryChart = echarts.init(document.getElementById('categoryChart'));
                    categoryChart.setOption({
                        tooltip: {
                            trigger: 'item',
                            formatter: '{b}: {c}%'
                        },
                        legend: {
                            orient: 'vertical',
                            left: 'left',
                            textStyle: { color: '#fff' }
                        },
                        series: [{
                            type: 'pie',
                            radius: ['40%', '70%'],
                            data: categoryData.value,
                            emphasis: {
                                itemStyle: {
                                    shadowBlur: 10,
                                    shadowOffsetX: 0,
                                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                                }
                            },
                            animationType: 'expansion',
                            animationDuration: 1000
                        }],
                        color: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7']
                    });

                    // 24å°æ—¶é”€å”®è¶‹åŠ¿æŠ˜çº¿å›¾
                    const trendChart = echarts.init(document.getElementById('trendChart'));
                    trendChart.setOption({
                        tooltip: {
                            trigger: 'axis',
                            formatter: '{b}: Â¥{c}'
                        },
                        grid: {
                            left: '3%',
                            right: '4%',
                            bottom: '3%',
                            containLabel: true
                        },
                        xAxis: {
                            type: 'category',
                            data: trendData.value.map(item => item.time),
                            axisLabel: { color: '#fff' }
                        },
                        yAxis: {
                            type: 'value',
                            axisLabel: { color: '#fff' }
                        },
                        series: [{
                            data: trendData.value.map(item => item.value),
                            type: 'line',
                            smooth: true,
                            areaStyle: {
                                opacity: 0.3,
                                color: {
                                    type: 'linear',
                                    x: 0, y: 0, x2: 0, y2: 1,
                                    colorStops: [
                                        { offset: 0, color: '#45B7D1' },
                                        { offset: 1, color: 'rgba(69, 183, 209, 0.1)' }
                                    ]
                                }
                            },
                            lineStyle: { color: '#45B7D1', width: 3 },
                            itemStyle: { color: '#45B7D1' }
                        }]
                    });

                    // TOP10å•†å“æŸ±çŠ¶å›¾
                    const top10Chart = echarts.init(document.getElementById('top10Chart'));
                    top10Chart.setOption({
                        tooltip: {
                            trigger: 'axis',
                            formatter: '{b}: {c}ä»¶'
                        },
                        grid: {
                            left: '3%',
                            right: '4%',
                            bottom: '3%',
                            containLabel: true
                        },
                        xAxis: {
                            type: 'value',
                            axisLabel: { color: '#fff' }
                        },
                        yAxis: {
                            type: 'category',
                            data: top10Data.value.map(item => item.name),
                            axisLabel: { color: '#fff' }
                        },
                        series: [{
                            type: 'bar',
                            data: top10Data.value.map(item => item.value),
                            itemStyle: {
                                color: {
                                    type: 'linear',
                                    x: 0, y: 0, x2: 1, y2: 0,
                                    colorStops: [
                                        { offset: 0, color: '#FF6B6B' },
                                        { offset: 1, color: '#FFE66D' }
                                    ]
                                }
                            },
                            barWidth: '60%',
                            animationDelay: (idx) => idx * 100
                        }]
                    });

                    // åœ°åŸŸåˆ†å¸ƒåœ°å›¾
                    const mapChart = echarts.init(document.getElementById('mapChart'));
                    mapChart.setOption({
                        title: {
                            text: 'ç”¨æˆ·åœ°åŸŸåˆ†å¸ƒ',
                            left: 'center',
                            top: 'top',
                            textStyle: { color: '#fff', fontSize: 16 }
                        },
                        tooltip: {
                            trigger: 'item',
                            formatter: function(params) {
                                const value = params.value || 0;
                                return `${params.name}: ${value.toLocaleString()}äºº`;
                            },
                            backgroundColor: 'rgba(0,0,0,0.9)',
                            borderColor: '#4ECDC4',
                            borderWidth: 1,
                            textStyle: { color: '#fff' }
                        },
                        visualMap: {
                            min: 0,
                            max: Math.max(...mapData.value.map(d => d.value)),
                            left: 'left',
                            top: 'bottom',
                            text: ['é«˜', 'ä½'],
                            calculable: true,
                            inRange: {
                                color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                            },
                            textStyle: { color: '#fff' }
                        },
                        series: [{
                            name: 'ç”¨æˆ·åˆ†å¸ƒ',
                            type: 'map',
                            map: 'china',
                            data: mapData.value,
                            roam: false,
                            zoom: 1.2,
                            center: [104, 35],
                            itemStyle: {
                                borderColor: '#404a59',
                                borderWidth: 0.5,
                                areaColor: '#323c48'
                            },
                            emphasis: {
                                itemStyle: {
                                    areaColor: '#4ECDC4',
                                    shadowBlur: 20,
                                    shadowColor: 'rgba(78, 205, 196, 0.5)',
                                    borderColor: '#4ECDC4',
                                    borderWidth: 2
                                }
                            }
                        }]
                    });

                    // å“åº”å¼
                    window.addEventListener('resize', () => {
                        categoryChart.resize();
                        trendChart.resize();
                        top10Chart.resize();
                        mapChart.resize();
                    });
                };

                onMounted(async () => {
                    updateTime();
                    setInterval(updateTime, 1000);
                    setInterval(refreshData, 5000);
                    
                    setTimeout(initCharts, 1000);
                });

                return {
                    currentTime,
                    totalSales,
                    orderCount,
                    activeUsers,
                    formatNumber,
                    refreshData
                };
            }
        });

        app.mount('#app');
    </script>
</body>
</html> 