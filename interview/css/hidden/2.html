<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GPUåŠ é€Ÿä¸æ€§èƒ½ä¼˜åŒ– - å°ç™½å­¦ä¹ ç‰ˆ</title>
    <style>
      /* åŸºç¡€æ ·å¼ */
      body {
        font-family: "Microsoft YaHei", Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      h1 {
        text-align: center;
        color: #333;
        margin-bottom: 30px;
        font-size: 28px;
      }

      .section {
        margin: 30px 0;
        padding: 20px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        background: #fafafa;
      }

      .section h2 {
        color: #2c3e50;
        margin-top: 0;
        font-size: 20px;
      }

      .demo-container {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        margin: 20px 0;
      }

      .demo-box {
        flex: 1;
        min-width: 200px;
        text-align: center;
      }

      .demo-title {
        font-weight: bold;
        margin-bottom: 10px;
        color: #555;
      }

      /* æ™®é€šå…ƒç´  - æ— GPUåŠ é€Ÿ */
      .normal-box {
        width: 150px;
        height: 150px;
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        border: 5px solid #333;
        border-radius: 15px;
        margin: 10px auto;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        transition: opacity 1s ease-in-out;
        position: relative;
      }

      .normal-box::before {
        content: "CPUæ¸²æŸ“";
        position: absolute;
        top: -25px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 12px;
        color: #666;
        background: white;
        padding: 2px 8px;
        border-radius: 10px;
      }

      .normal-box.hidden {
        opacity: 0;
      }

      /* GPUåŠ é€Ÿå…ƒç´  */
      .gpu-box {
        width: 150px;
        height: 150px;
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        border: 5px solid #333;
        border-radius: 15px;
        margin: 10px auto;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        transition: opacity 1s ease-in-out;
        position: relative;

        /* GPUåŠ é€Ÿå…³é”®å±æ€§ */
        transform: translateZ(0); /* å¼ºåˆ¶å¼€å¯ç¡¬ä»¶åŠ é€Ÿ */
        will-change: opacity; /* å‘Šè¯‰æµè§ˆå™¨è¿™ä¸ªå±æ€§ä¼šæ”¹å˜ */
        backface-visibility: hidden; /* ä¼˜åŒ–æ¸²æŸ“ */
      }

      .gpu-box::before {
        content: "GPUæ¸²æŸ“";
        position: absolute;
        top: -25px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 12px;
        color: #666;
        background: white;
        padding: 2px 8px;
        border-radius: 10px;
      }

      .gpu-box.hidden {
        opacity: 0;
      }

      /* æ§åˆ¶æŒ‰é’® */
      .controls {
        text-align: center;
        margin: 20px 0;
      }

      .btn {
        background: #3498db;
        color: white;
        border: none;
        padding: 12px 24px;
        margin: 5px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
      }

      .btn:hover {
        background: #2980b9;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
      }

      .btn.danger {
        background: #e74c3c;
        box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
      }

      .btn.danger:hover {
        background: #c0392b;
        box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
      }

      .btn.success {
        background: #27ae60;
        box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
      }

      .btn.success:hover {
        background: #229954;
        box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
      }

      /* æ€§èƒ½ç›‘æ§ */
      .performance-monitor {
        background: #2c3e50;
        color: white;
        padding: 15px;
        border-radius: 10px;
        margin: 20px 0;
        font-family: "Courier New", monospace;
      }

      .performance-monitor h3 {
        margin-top: 0;
        color: #ecf0f1;
      }

      .performance-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
      }

      .stat-item {
        background: #34495e;
        padding: 10px;
        border-radius: 5px;
        text-align: center;
      }

      .stat-value {
        font-size: 18px;
        font-weight: bold;
        color: #2ecc71;
      }

      .stat-label {
        font-size: 12px;
        color: #bdc3c7;
        margin-top: 5px;
      }

      /* çŸ¥è¯†å¡ç‰‡ */
      .knowledge-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .knowledge-card h3 {
        margin-top: 0;
        color: #fff;
      }

      .knowledge-card ul {
        margin: 15px 0;
        padding-left: 20px;
      }

      .knowledge-card li {
        margin: 8px 0;
        line-height: 1.5;
      }

      /* ä»£ç ç¤ºä¾‹ */
      .code-example {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 15px;
        border-radius: 5px;
        font-family: "Courier New", monospace;
        font-size: 14px;
        margin: 15px 0;
        overflow-x: auto;
      }

      .code-comment {
        color: #95a5a6;
      }

      /* å“åº”å¼è®¾è®¡ */
      @media (max-width: 768px) {
        .demo-container {
          flex-direction: column;
        }

        .container {
          padding: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸš€ GPUåŠ é€Ÿä¸æ€§èƒ½ä¼˜åŒ–å­¦ä¹ </h1>

      <div class="section">
        <h2>ğŸ“š ä»€ä¹ˆæ˜¯GPUåŠ é€Ÿï¼Ÿ</h2>
        <div class="knowledge-card">
          <h3>ğŸ’¡ GPUåŠ é€ŸåŸç†</h3>
          <ul>
            <li>
              <strong>CPUæ¸²æŸ“ï¼š</strong>ä½¿ç”¨ä¸»å¤„ç†å™¨è¿›è¡Œå›¾å½¢è®¡ç®—ï¼Œé€Ÿåº¦è¾ƒæ…¢
            </li>
            <li>
              <strong>GPUæ¸²æŸ“ï¼š</strong>ä½¿ç”¨æ˜¾å¡è¿›è¡Œå›¾å½¢è®¡ç®—ï¼Œä¸“é—¨ä¼˜åŒ–å›¾å½¢å¤„ç†
            </li>
            <li>
              <strong>ç¡¬ä»¶åŠ é€Ÿï¼š</strong>å°†å›¾å½¢è®¡ç®—ä»»åŠ¡è½¬ç§»åˆ°GPUï¼Œæå‡æ€§èƒ½
            </li>
            <li>
              <strong>åˆæˆå±‚ï¼š</strong>GPUå°†å…ƒç´ æå‡åˆ°ç‹¬ç«‹çš„åˆæˆå±‚è¿›è¡Œæ¸²æŸ“
            </li>
          </ul>
        </div>
      </div>

      <div class="section">
        <h2>ğŸ¯ å®é™…å¯¹æ¯”æ¼”ç¤º</h2>
        <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®ï¼Œè§‚å¯ŸCPUæ¸²æŸ“å’ŒGPUæ¸²æŸ“çš„æ€§èƒ½å·®å¼‚ï¼š</p>

        <div class="demo-container">
          <div class="demo-box">
            <div class="demo-title">CPUæ¸²æŸ“ï¼ˆæ™®é€šæ–¹å¼ï¼‰</div>
            <div id="normalBox" class="normal-box">æ™®é€šå…ƒç´ </div>
          </div>

          <div class="demo-box">
            <div class="demo-title">GPUæ¸²æŸ“ï¼ˆç¡¬ä»¶åŠ é€Ÿï¼‰</div>
            <div id="gpuBox" class="gpu-box">GPUåŠ é€Ÿå…ƒç´ </div>
          </div>
        </div>

        <div class="controls">
          <button class="btn danger" id="toggleNormal">åˆ‡æ¢æ™®é€šå…ƒç´ </button>
          <button class="btn success" id="toggleGpu">åˆ‡æ¢GPUå…ƒç´ </button>
          <button class="btn" id="toggleAll">åŒæ—¶åˆ‡æ¢æ‰€æœ‰</button>
        </div>
      </div>

      <div class="section">
        <h2>âš¡ æ€§èƒ½ç›‘æ§</h2>
        <div class="performance-monitor">
          <h3>ğŸ“Š å®æ—¶æ€§èƒ½æ•°æ®</h3>
          <div class="performance-stats">
            <div class="stat-item">
              <div class="stat-value" id="fpsCounter">60</div>
              <div class="stat-label">FPS</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="renderTime">0ms</div>
              <div class="stat-label">æ¸²æŸ“æ—¶é—´</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="gpuUsage">0%</div>
              <div class="stat-label">GPUä½¿ç”¨ç‡</div>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>ğŸ› ï¸ å¦‚ä½•å¼€å¯GPUåŠ é€Ÿï¼Ÿ</h2>
        <div class="code-example">
          <span class="code-comment">/* æ–¹æ³•1ï¼šä½¿ç”¨ transform å±æ€§ */</span>
          .element { transform: translateZ(0);
          <span class="code-comment">/* å¼ºåˆ¶å¼€å¯ç¡¬ä»¶åŠ é€Ÿ */</span>
          }

          <span class="code-comment">/* æ–¹æ³•2ï¼šä½¿ç”¨ will-change å±æ€§ */</span>
          .element { will-change: opacity;
          <span class="code-comment">/* å‘Šè¯‰æµè§ˆå™¨è¿™ä¸ªå±æ€§ä¼šæ”¹å˜ */</span>
          }

          <span class="code-comment"
            >/* æ–¹æ³•3ï¼šä½¿ç”¨ backface-visibility */</span
          >
          .element { backface-visibility: hidden;
          <span class="code-comment">/* ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ */</span>
          }
        </div>
      </div>

      <div class="section">
        <h2>ğŸ¨ æœ€ä½³å®è·µ</h2>
        <div class="knowledge-card">
          <h3>âœ… æ¨èåšæ³•</h3>
          <ul>
            <li>
              å¯¹åŠ¨ç”»å…ƒç´ ä½¿ç”¨ <code>transform</code> å’Œ <code>opacity</code>
            </li>
            <li>ä½¿ç”¨ <code>will-change</code> æå‰å‘ŠçŸ¥æµè§ˆå™¨</li>
            <li>é¿å…é¢‘ç¹æ”¹å˜ <code>width</code>ã€<code>height</code> ç­‰å±æ€§</li>
            <li>
              ä½¿ç”¨ <code>transform3d()</code> è€Œä¸æ˜¯ <code>translateZ(0)</code>
            </li>
          </ul>
        </div>
      </div>

      <div class="section">
        <h2>âš ï¸ æ³¨æ„äº‹é¡¹</h2>
        <div class="knowledge-card">
          <h3>âŒ é¿å…çš„é—®é¢˜</h3>
          <ul>
            <li>ä¸è¦æ»¥ç”¨GPUåŠ é€Ÿï¼Œä¼šæ¶ˆè€—æ›´å¤šå†…å­˜</li>
            <li>é¿å…åŒæ—¶å¼€å¯å¤ªå¤šåˆæˆå±‚</li>
            <li>ä¸è¦åœ¨ä¸å¿…è¦çš„å…ƒç´ ä¸Šä½¿ç”¨GPUåŠ é€Ÿ</li>
            <li>æ³¨æ„ç§»åŠ¨è®¾å¤‡çš„æ€§èƒ½é™åˆ¶</li>
          </ul>
        </div>
      </div>
    </div>

    <script>
      // è·å–å…ƒç´ 
      const normalBox = document.getElementById("normalBox");
      const gpuBox = document.getElementById("gpuBox");

      // æ€§èƒ½ç›‘æ§å˜é‡
      let frameCount = 0;
      let lastTime = performance.now();
      let fps = 60;

      // æ€§èƒ½ç›‘æ§å‡½æ•°
      function updatePerformanceStats() {
        const now = performance.now();
        frameCount++;

        if (now - lastTime >= 1000) {
          fps = Math.round((frameCount * 1000) / (now - lastTime));
          frameCount = 0;
          lastTime = now;

          document.getElementById("fpsCounter").textContent = fps;
          document.getElementById("renderTime").textContent =
            Math.round(1000 / fps) + "ms";
          document.getElementById("gpuUsage").textContent =
            Math.min(100, Math.round((fps / 60) * 100)) + "%";
        }

        requestAnimationFrame(updatePerformanceStats);
      }

      // å¼€å§‹æ€§èƒ½ç›‘æ§
      updatePerformanceStats();

      // æ™®é€šå…ƒç´ åˆ‡æ¢
      document
        .getElementById("toggleNormal")
        .addEventListener("click", function () {
          normalBox.classList.toggle("hidden");
          this.textContent = normalBox.classList.contains("hidden")
            ? "æ˜¾ç¤ºæ™®é€šå…ƒç´ "
            : "éšè—æ™®é€šå…ƒç´ ";
        });

      // GPUå…ƒç´ åˆ‡æ¢
      document
        .getElementById("toggleGpu")
        .addEventListener("click", function () {
          gpuBox.classList.toggle("hidden");
          this.textContent = gpuBox.classList.contains("hidden")
            ? "æ˜¾ç¤ºGPUå…ƒç´ "
            : "éšè—GPUå…ƒç´ ";
        });

      // åŒæ—¶åˆ‡æ¢æ‰€æœ‰å…ƒç´ 
      document
        .getElementById("toggleAll")
        .addEventListener("click", function () {
          const isHidden = normalBox.classList.contains("hidden");
          normalBox.classList.toggle("hidden");
          gpuBox.classList.toggle("hidden");
          this.textContent = isHidden ? "éšè—æ‰€æœ‰å…ƒç´ " : "æ˜¾ç¤ºæ‰€æœ‰å…ƒç´ ";
        });

      // ä¸ºå…ƒç´ æ·»åŠ ç‚¹å‡»äº‹ä»¶
      [normalBox, gpuBox].forEach((element, index) => {
        element.addEventListener("click", function () {
          const type = index === 0 ? "CPUæ¸²æŸ“" : "GPUæ¸²æŸ“";
          alert(`ä½ ç‚¹å‡»äº†${type}å…ƒç´ ï¼\n\næ³¨æ„è§‚å¯Ÿæ€§èƒ½ç›‘æ§æ•°æ®çš„å˜åŒ–ã€‚`);
        });
      });

      // æ·»åŠ ä¸€äº›éšæœºåŠ¨ç”»æ¥æµ‹è¯•æ€§èƒ½
      function addRandomAnimation() {
        const boxes = [normalBox, gpuBox];
        boxes.forEach((box, index) => {
          if (!box.classList.contains("hidden")) {
            const randomX = (Math.random() - 0.5) * 20;
            const randomY = (Math.random() - 0.5) * 20;
            box.style.transform = `translate(${randomX}px, ${randomY}px)`;
          }
        });

        setTimeout(() => {
          boxes.forEach((box) => {
            box.style.transform = "";
          });
        }, 100);
      }

      // æ¯2ç§’æ·»åŠ ä¸€æ¬¡éšæœºåŠ¨ç”»
      setInterval(addRandomAnimation, 2000);
    </script>
  </body>
</html>
