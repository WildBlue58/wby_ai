<template>
  <div>
    <h1>ğŸ”— defineExpose çˆ¶è°ƒç”¨å­æ–¹æ³•ç¤ºä¾‹</h1>
    <p>çˆ¶ç»„ä»¶é€šè¿‡refç›´æ¥è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•å’Œè®¿é—®æ•°æ®</p>
    <ExposeChild ref="comp" />
    <button @click="handlerClick">ğŸ¯ è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•</button>
  </div>
</template>

<script setup>
import ExposeChild from "./ExposeChild.vue";
import { ref } from "vue";

/**
 * çˆ¶ç»„ä»¶ - çˆ¶è°ƒç”¨å­æ–¹æ³•
 * å±•ç¤ºå¦‚ä½•é€šè¿‡refç›´æ¥è®¿é—®å­ç»„ä»¶çš„æ–¹æ³•å’Œæ•°æ®
 *
 * å…³é”®æ¦‚å¿µï¼š
 * - ref: åˆ›å»ºæ¨¡æ¿å¼•ç”¨ï¼Œè·å–å­ç»„ä»¶å®ä¾‹
 * - defineExpose: å­ç»„ä»¶æš´éœ²ç»™çˆ¶ç»„ä»¶çš„æ–¹æ³•å’Œæ•°æ®
 * - ç›´æ¥è°ƒç”¨: çˆ¶ç»„ä»¶å¯ä»¥ç›´æ¥è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•
 */
// åˆ›å»ºå­ç»„ä»¶çš„å¼•ç”¨
const comp = ref(null);

// è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•
const handlerClick = () => {
  console.log("å­ç»„ä»¶åç§°:", comp.value?.childName);
  comp.value?.showMethod(); // è°ƒç”¨å­ç»„ä»¶æš´éœ²çš„æ–¹æ³•
};
</script>

<style scoped>
h1,
p,
button {
  color: #2c3e50 !important;
  font-weight: 600;
}

h1 {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
}

p {
  color: #34495e !important;
  font-weight: 500;
}

button {
  background: #e74c3c;
  color: white !important;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  margin: 0.25rem;
  font-weight: 500;
}

button:hover {
  background: #c0392b;
}
</style>
