# 打造 Agent

## 什么是 Agent

Agent（智能体）是一种能够感知环境、做出决策并执行行动的AI系统。与传统的聊天机器人不同，Agent具备更强的自主性和专业性。

- ChatBot
  - 传统的对话机器人，主要用于基础问答和对话交互
  - 功能相对简单，响应模式固定

- 为何在有通义千问外还需要聊天机器人
  - 通用AI（如通义千问）是泛AI，覆盖范围广但深度有限
  - 专业领域需要针对性的解决方案
  - 具有私有知识库的专业Agent能够：
    - 提供更精准的专业知识
    - 保护企业私有数据
    - 提供定制化的服务体验
  - 应用场景示例：
    - 中医问诊：需要专业的中医知识库和诊断逻辑
    - 法律咨询：需要最新的法律法规和案例库
    - 技术支持：需要产品文档和故障排查知识

## 创建智能体

### AIGC 生成

AIGC（AI Generated Content，AI生成内容）是智能体的核心能力之一，通过不同的模型实现各种内容生成：

- 文本模型
  - GPT-3.5、GPT-4：强大的文本理解和生成能力
  - Claude：擅长长文本处理和分析
  - 文心一言、通义千问：国产大模型，支持中文场景
  - 应用场景：文章写作、代码生成、翻译、摘要等

- 图像/短视频 多模态模型
  - DALL-E、Midjourney：高质量图像生成
  - Stable Diffusion：开源图像生成模型
  - Sora、Runway：视频生成模型
  - 应用场景：设计素材、营销图片、视频制作等
  - AI 玄学 抽卡：趣味应用，如AI占卜、随机生成等娱乐场景  

## 0 代码实现AI Agent 开发

### 平台选择

无需编程基础，通过可视化平台即可创建AI Agent：

- **Coze（字节跳动）**
  - 拖拽式工作流设计
  - 丰富的插件和工具集成
  - 支持多模态能力
  - 可直接发布到飞书、微信公众号等平台

- **其他平台**
  - 百度智能云千帆：企业级AI应用开发平台
  - 阿里云通义千问：基于通义大模型的Agent开发
  - LangChain：开源框架，需要一定技术基础

### 开发流程

1. **定义Agent角色和目标**
   - 明确Agent的职责和应用场景
   - 设定对话风格和响应模式

2. **配置知识库**
   - 上传相关文档和数据
   - 设置知识检索策略

3. **设计工作流**
   - 使用可视化工具连接各个组件
   - 配置Prompt和模型参数

4. **测试和优化**
   - 进行多轮对话测试
   - 根据反馈调整Prompt和知识库

5. **发布和部署**
   - 选择发布渠道（微信、网页、API等）
   - 监控使用情况和性能指标

## 知识库

### 为什么需要知识库

- LLM大模型的缺点是?
  - **训练成本高昂**
    - 耗费数千万美元训练出来的（如GPT-4）
    - DeepSeek相对便宜，但也要近百万美金
    - 普通企业无法承担如此高昂的训练成本
  
  - **数据时效性问题**
    - 训练时喂入的是历史数据（全网数据）
    - 训练完成后模型参数固定
    - 无法获取训练后的新数据
    - 无法访问企业的私密数据
  
  - **专业领域知识不足**
    - 通用模型缺乏特定行业的专业知识
    - 无法提供精准的专业建议

### 知识库解决方案

针对自己的业务，AI Chatbot 的构建需要知识库支持：

- **构建私有知识库**
  - 上传企业内部文档、产品手册、FAQ等
  - 定期更新知识库内容，保持信息时效性
  - 保护企业敏感信息，不泄露给第三方

- **应用场景**
  - **AI 医疗**：医疗知识库、病例库、药物信息
  - **法律咨询**：法律法规、判例库、合同模板
  - **技术支持**：产品文档、故障排查指南、API文档
  - **在线教育**：课程内容、学习资料、考试题库

### 知识库工作流程

1. **数据收集**：整理相关文档和数据
2. **数据预处理**：清洗、格式化、分块
3. **向量化存储**：将文本转换为向量，便于检索
4. **检索策略**：根据用户问题匹配相关知识
5. **上下文注入**：将检索到的知识注入到Prompt中
6. **生成回答**：LLM基于知识库内容生成准确回答

## 编程星球知识库智能体

### 项目概述

在线教育的聊天机器人，接入微信公众号，为学员提供24小时在线咨询服务。

### 核心特点

- AI Chatbot 是当下成熟的AI产品
  - 技术成熟，应用广泛
  - 用户体验好，响应速度快
  - 成本相对较低，可规模化部署

- 给LLM 提供私有知识库，让LLM 具备专业领域的知识
  - 包含编程课程内容、学习资料、常见问题等
  - 让通用大模型具备编程教育领域的专业知识
  - 提供准确、专业的回答

### 工作流程

1. **角色设定**
   - 角色是客服：专业的在线教育客服助手
   - 友好的沟通风格，耐心解答学员问题

2. **用户交互**
   - 用户提出一个问题（通过微信公众号）
   - 问题可以是：课程内容、学习方法、技术问题等

3. **知识检索**
   - Prompt 查询知识库
   - 使用向量检索技术匹配相关知识
   - 找到最相关的课程内容、文档片段

4. **内容生成**
   - 知识，查找，生成
   - 将检索到的知识作为上下文注入到LLM
   - LLM基于知识库内容生成个性化回答

5. **结果返回**
   - 返回结果给用户
   - 支持富文本、代码块、链接等多种格式

6. **平台发布**
   - 发布到 微信公众号
   - 学员可以直接在微信中与AI助手对话
   - 无需下载额外应用，使用便捷

### 技术架构

- **知识库管理**：文档上传、向量化、检索优化
- **对话引擎**：基于大语言模型的对话生成
- **平台集成**：微信公众号API对接
- **监控分析**：对话质量监控、用户反馈收集
