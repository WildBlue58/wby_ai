# 小养

## 核心技术栈

### React 全家桶

- **React 18+** - 现代 React 开发

  - 函数式组件开发
  - Hooks 编程 (useState, useEffect, useCallback, useMemo, useRef)
  - 自定义 Hooks
  - 受控和非受控组件
  - 组件封装和复用
  - React.memo 性能优化

- **React Router DOM** - 路由管理
  - SPA (单页应用) 路由
  - 路由守卫 (路由权限控制)
  - 懒加载 (React.lazy + Suspense)
  - 嵌套路由 (Outlet)
  - 分组路由配置

### 状态管理

- **Zustand** - 轻量级状态管理
  - 相比 Redux 更简洁的 API
  - 支持 JavaScript
  - 易于学习和使用

### 网络请求

- **Axios** - HTTP 客户端
  - 请求拦截器
  - 响应拦截器
  - 代理配置
  - 错误处理

### 身份认证

- **JWT (JSON Web Token)**
  - 用户登录认证
  - Token 存储和管理
  - 自动刷新机制

## 开发工具和构建

### 构建工具

- **Vite** - 现代前端构建工具
  - 快速热重载
  - 插件系统
  - 环境变量配置 (.env.local)
  - 路径别名配置

### 开发依赖

- **vite-plugin-mock** - Mock 数据
  - 接口模拟
  - 开发环境数据模拟

## UI 和样式

### UI 组件库

- **React Vant** - 移动端 UI 组件库
  - 70% 的常用组件已封装
  - 适合移动端业务场景
  - 响应式设计

### 样式解决方案

- **CSS Modules** - 模块化样式

  - 样式隔离
  - 避免样式冲突

- **Stylus** - CSS 预处理器
  - 变量定义
  - 嵌套语法
  - 混合 (Mixins)
  - 函数

### 移动端适配

- **lib-flexible** - 阿里移动端适配方案

  - 动态设置 html font-size
  - 1rem = 屏幕宽度 / 10
  - 等比例缩放

- **PostCSS + postcss-pxtorem** - 自动化单位转换
  - px 自动转换为 rem
  - 设计稿还原 (750px 设计稿)
  - 自动化单位换算

## 性能优化

### 防抖节流

- **防抖 (Debounce)** - 搜索输入优化
- **节流 (Throttle)** - 滚动事件优化

### React 性能优化

- **useCallback** - 函数记忆化
- **useMemo** - 值记忆化
- **React.memo** - 组件记忆化
- **懒加载** - 路由和图片懒加载

### 用户体验优化

- **骨架屏 (Skeleton)** - 加载状态优化
- **图片懒加载** - IntersectionObserver API
- **瀑布流布局** - 两列响应式布局
- **无限滚动** - 滚动加载更多

## AI 和 LLM 集成

### 大语言模型集成

- **Chat 功能**
  - 支持多模型切换 (DeepSeek, Kimi, Doubao)
  - 流式输出
  - 上下文管理 (LRU 缓存)
  - 参数抽象化

### AI 功能

- **文生图** - 图像生成
- **Coze 工作流** - 工作流调用
- **多语言支持**

## 工具和库

### 事件通信

- **Mitt** - 事件总线
  - 跨组件通信
  - 观察者模式
  - 组件解耦

### 工具函数

- **ES6+ 特性**
  - Array.findIndex
  - String.startsWith
  - Promise
  - Array.from
  - 解构赋值
  - 箭头函数

## 设计模式和编程规范

### 设计模式

- **单例模式** - 全局状态管理
- **观察者模式** - 事件通信
- **组件模式** - 组件封装

### 编程规范

- **Git 提交规范** - 规范化提交信息
- **代码风格** - ESLint + Prettier
- **JavaScript** - 类型安全

## 项目架构

```bash
src/
├── components/     # 通用组件
├── pages/         # 页面组件
├── store/         # 状态管理
├── hooks/         # 自定义 Hooks
├── api/           # API 接口
├── mock/          # Mock 数据
├── utils/         # 工具函数
└── styles/        # 样式文件
```

## 开发环境配置

### 移动端配置

- **viewport** - user-scalable=no 禁止用户缩放
- **rem 适配** - 移动端等比例缩放
- **触摸事件** - 移动端交互优化

### 样式重置

- **CSS Reset** - 样式重置
- **box-sizing** - border-box
- **font-family** - 系统字体

## 部署和运维

### 环境变量

- **.env.local** - 本地环境配置
- **API Keys** - LLM API 密钥管理

### 性能监控

- **Bundle 分析** - 打包体积优化
- **性能指标** - Core Web Vitals

## 技术亮点总结

1. **移动端适配** - lib-flexible + postcss-pxtorem 完美还原设计稿
2. **性能优化** - 多层次的性能优化策略
3. **AI 集成** - 灵活的 LLM 集成方案
4. **用户体验** - 骨架屏、懒加载、瀑布流等优化
5. **代码质量** - JavaScript + ESLint + 设计模式
6. **开发效率** - Vite + 组件库 + 自定义 Hooks

这个技术栈涵盖了现代 React 开发的各个方面，从基础框架到性能优化，从移动端适配到 AI 集成，形成了一个完整的技术体系。
